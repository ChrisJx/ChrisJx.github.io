<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="Coding for more love!">
<meta property="og:url" content="http://yoursite.com/page/3/index.html">
<meta property="og:site_name" content="Coding for more love!">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Coding for more love!">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/3/"/>





  <title>Coding for more love!</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Coding for more love!</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/02/06/npm工具使用/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ChrisJx">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Coding for more love!">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/06/npm工具使用/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-02-06T14:35:45+08:00">
                2018-02-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<p>title: npm操作<br>layout: post<br>date: 2018-2-22<br>comments: true<br>categories: npm<br>tags: [npm]<br>keywords: npm</p>
<h2 id="description-生活总需要一些记录，也许我们无法成为“那样的人”，但是有些脚印是我们走过的，留在那里也很美丽！"><a href="#description-生活总需要一些记录，也许我们无法成为“那样的人”，但是有些脚印是我们走过的，留在那里也很美丽！" class="headerlink" title="description: 生活总需要一些记录，也许我们无法成为“那样的人”，但是有些脚印是我们走过的，留在那里也很美丽！"></a>description: 生活总需要一些记录，也许我们无法成为“那样的人”，但是有些脚印是我们走过的，留在那里也很美丽！</h2><p>关于npm应该是非常简单的命令操作了：</p>
<ul>
<li>命令行安装npm淘宝镜像：</li>
</ul>
<p><code>$ npm install -g cnpm --registry=https://registry.npm.taobao.org</code></p>
<p>之后我们就可以使用<code>cnpm install</code> 来安装包</p>
<ul>
<li>查看npm全局安装的包</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm list -g --depth 0</div></pre></td></tr></table></figure>
<ul>
<li>卸载npm安装的包</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">【npm uninstall xxx】删除xxx模块； </div><div class="line">【npm uninstall -g xxx】删除全局模块xxx；</div></pre></td></tr></table></figure>
<ul>
<li>npm 升级</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install --global npm</div></pre></td></tr></table></figure>
<ul>
<li>查看某个命令的具体使用</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install -h</div></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/02/06/git工具类使用/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ChrisJx">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Coding for more love!">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/06/git工具类使用/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-02-06T14:35:45+08:00">
                2018-02-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<p>title: git<br>layout: post<br>date: 2018-2-22<br>comments: true<br>categories: git<br>tags: [git]<br>keywords: git操作</p>
<h2 id="description-生活总需要一些记录，也许我们无法成为“那样的人”，但是有些脚印是我们走过的，留在那里也很美丽！"><a href="#description-生活总需要一些记录，也许我们无法成为“那样的人”，但是有些脚印是我们走过的，留在那里也很美丽！" class="headerlink" title="description: 生活总需要一些记录，也许我们无法成为“那样的人”，但是有些脚印是我们走过的，留在那里也很美丽！"></a>description: 生活总需要一些记录，也许我们无法成为“那样的人”，但是有些脚印是我们走过的，留在那里也很美丽！</h2><p>在使用git的时候，当想要忽略我们文件中的某些文件时，可以使用</p>
<ul>
<li><p>删除文件，并停止追踪  <code>git rm --cached log/xx.log</code></p>
</li>
<li><p>新增文件，不想被git追踪到  <code>touch .gitignore</code>  新建<code>.gitignore</code>文件 忽略目标文件</p>
</li>
<li><p>已经提交的文件，不想继续被git追踪  <code>git update-index --assume-unchanged &lt;PATH&gt;</code> </p>
<p>当想让被git追踪的时候，命令 <code>git update-index --no-assume-unchanged &lt;PATH&gt;</code></p>
</li>
</ul>
<p>在使用git的时候，当想要撤销我们文件中的某些文件时，可以使用</p>
<ul>
<li>取消放入暂存区的文件  <code>git reset HEAD &lt;file&gt;...</code></li>
<li>取消对文件的修改 <code>git checkout -- file</code></li>
<li>撤销到某个提交的节点 <code>git reset --hard 3628164</code></li>
</ul>
<p>参考L ： <a href="http://blog.csdn.net/xiaoshan812613234/article/details/24780337" target="_blank" rel="external">http://blog.csdn.net/xiaoshan812613234/article/details/24780337</a><br>​        <a href="https://git-scm.com/book/zh/v1/Git-%E5%9F%BA%E7%A1%80-%E6%92%A4%E6%B6%88%E6%93%8D%E4%BD%9C" target="_blank" rel="external">https://git-scm.com/book/zh/v1/Git-%E5%9F%BA%E7%A1%80-%E6%92%A4%E6%B6%88%E6%93%8D%E4%BD%9C</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/02/06/brower-sync的使用/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ChrisJx">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Coding for more love!">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/06/brower-sync的使用/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-02-06T14:35:45+08:00">
                2018-02-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<p>title: browsersync使用<br>layout: post<br>date: 2018-2-22<br>comments: true<br>categories: browsersync<br>tags: [browsersync, 本地服务]<br>keywords: browsersync</p>
<h2 id="description-生活总需要一些记录，也许我们无法成为“那样的人”，但是有些脚印是我们走过的，留在那里也很美丽！"><a href="#description-生活总需要一些记录，也许我们无法成为“那样的人”，但是有些脚印是我们走过的，留在那里也很美丽！" class="headerlink" title="description: 生活总需要一些记录，也许我们无法成为“那样的人”，但是有些脚印是我们走过的，留在那里也很美丽！"></a>description: 生活总需要一些记录，也许我们无法成为“那样的人”，但是有些脚印是我们走过的，留在那里也很美丽！</h2><p>时常要用到自动刷新浏览器来方便代码的显示效果，follow by step</p>
<ol>
<li><p><code>npm init  -y</code>  初始化一个第三方包</p>
</li>
<li><p><code>npm i -D browser-sync</code> 安装我们的插件包</p>
</li>
<li><p><code>browser-sync start --server --directory --files \&quot;html/*.html\&quot;</code>启动服务，</p>
<p>或者在<code>package.json</code>包说明文件中，指定下面的快捷命令操作</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">"scripts": &#123;</div><div class="line">    "test": "echo \"Error: no test specified\" &amp;&amp; exit 1",</div><div class="line">    "start": "browser-sync start --server --directory --files \"html/*.html\""</div><div class="line">  &#125;,</div></pre></td></tr></table></figure>
<p>这是在npm中使用brower-sync插件的情况，还有在gulp的使用情况，再分析。</p>
</li>
</ol>
<p>参考： </p>
<p>​    <a href="https://browsersync.io/" target="_blank" rel="external">官网</a></p>
<p>​    <a href="http://blog.csdn.net/pwc1996/article/details/76849876" target="_blank" rel="external">http://blog.csdn.net/pwc1996/article/details/76849876</a></p>
<p>​    <a href="http://www.cnblogs.com/yesyes/p/6156102.html" target="_blank" rel="external">http://www.cnblogs.com/yesyes/p/6156102.html</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/02/06/last-porblem/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ChrisJx">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Coding for more love!">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/06/last-porblem/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-02-06T11:16:52+08:00">
                2018-02-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<p>title: 插件<br>layout: post<br>date: 2018-2-22<br>comments: true<br>categories: 总结17年遇到问题<br>tags: [问题]<br>keywords: 历史问题, 处理</p>
<h2 id="description-生活总需要一些记录，也许我们无法成为“那样的人”，但是有些脚印是我们走过的，留在那里也很美丽！"><a href="#description-生活总需要一些记录，也许我们无法成为“那样的人”，但是有些脚印是我们走过的，留在那里也很美丽！" class="headerlink" title="description: 生活总需要一些记录，也许我们无法成为“那样的人”，但是有些脚印是我们走过的，留在那里也很美丽！"></a>description: 生活总需要一些记录，也许我们无法成为“那样的人”，但是有些脚印是我们走过的，留在那里也很美丽！</h2><blockquote>
<p>这一年，大大小小在处理前端逻辑的时候，遇到不少的问题。在此记录下自己查阅资料后的思考。有些问题已经解决了，有些问题还是兼容性不够抑或是我思考的还不够深入。</p>
</blockquote>
<h4 id="iframe高度的控制问题"><a href="#iframe高度的控制问题" class="headerlink" title="iframe高度的控制问题"></a>iframe高度的控制问题</h4><p>对于同域名下的 <code>iframe</code> 可以获取 <code>iframe</code> 的高度，这个比较简单。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> resetIframe = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> frame = <span class="built_in">document</span>.getElementById(<span class="string">'#iframe'</span>)</div><div class="line">    <span class="keyword">try</span> &#123;</div><div class="line">      <span class="keyword">var</span> frameCont = frame.contentWindow.document,</div><div class="line">          <span class="comment">// 这里可能会有兼容问题,获取iframe的内容高度</span></div><div class="line">          bodyHeight = <span class="built_in">Math</span>.max(frameCont.body.scrollHeight, frameContent.documentElement.scrollHeight)</div><div class="line">      <span class="keyword">if</span> (bodyHeight != frame.height)&#123;</div><div class="line">        frame.height = bodyHeight</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">catch</span>(err)&#123;</div><div class="line">      <span class="comment">// 如果获取iframe的最小高度失败,就设置一个最小值</span></div><div class="line">      frame.height = <span class="number">1900</span></div><div class="line">    &#125;</div><div class="line">    <span class="built_in">window</span>.onload = resetIframe</div><div class="line">  &#125;</div><div class="line">&#125;)();</div></pre></td></tr></table></figure>
<p>第二种情况是在跨域条件下，上述方法是行不通的，理论上也是不直接把其他页面直接使用 <code>iframe</code> 嵌套的。</p>
<p>之前使用的写死高度的方法，不过稍微好的方法是获取 <code>iframe</code> 页面中外层元素的高度然后估算出高度。–笨哭–</p>
<ul>
<li>页面全部是 <code>iframe</code> 元素构成</li>
</ul>
<p>结合凌哥开始写的移动端demo, 发现在移动端页面全部是 <code>iframe</code> 的情况下，使用移动端的常规定位就可以实现。即把 <code>iframe</code> 的高度设置为页面window的高度。</p>
<ul>
<li>页面部分元素是 <code>iframe</code> 构成</li>
</ul>
<p>采用上面所述的方法</p>
<h4 id="input框中的边边角角"><a href="#input框中的边边角角" class="headerlink" title="input框中的边边角角"></a>input框中的边边角角</h4><ul>
<li>限制只能输入整数</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* /^d+$/ 表示一个或者多个数字 */</span></div><div class="line">&lt;input type=<span class="string">"text"</span> name=<span class="string">"number"</span> onkeyup=<span class="string">"if(/^\d+$/.test(this.value))&#123;alert('只能输入整数'); this.value=''&#125;"</span>&gt;</div></pre></td></tr></table></figure>
<ul>
<li>限制是两位的小数</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;input type=<span class="string">"text"</span> name=<span class="string">"price"</span> onkeyup=<span class="string">"if(!/^\d*(?:.d&#123;0,2&#125;)?$/.test(this.value))&#123;alert('只能输入数字，小数点只能保留两位'); this.value=''&#125;"</span>&gt;</div></pre></td></tr></table></figure>
<ul>
<li><p>只能读取文本的内容<br>在 <code>input</code> 中设置 <code>readonly</code> 属性<br>刚刚在上午遇到的问题，还傻傻地设置了 <code>disabled</code> 属性</p>
</li>
<li><p>键入 <code>enter</code> 键让光标进入下一个输入框</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">onkeydown</span>=<span class="string">"if(event.keyCode == 13)event.keyCode = 9"</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
</ul>
<p>坑很多，待完善。</p>
<h4 id="倒计时js实现"><a href="#倒计时js实现" class="headerlink" title="倒计时js实现"></a>倒计时js实现</h4><ul>
<li>js利用 <code>HEAD</code> 方法获取服务端的时间<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getSeverTime</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> xmlHttp = <span class="keyword">new</span> XMLHttpRequest();</div><div class="line">  <span class="keyword">if</span> (!xmlHttp)&#123;</div><div class="line">    xmlHttp = <span class="keyword">new</span> ActiveXObject(<span class="string">'Microsoft.XMLHTTP'</span>);</div><div class="line">  &#125;</div><div class="line">  xmlHttp.open(<span class="string">"HEAD"</span>,location.href,<span class="literal">false</span>)</div><div class="line">  xmlHttp.send()</div><div class="line">  <span class="keyword">var</span> severTime = <span class="keyword">new</span> <span class="built_in">Date</span>(xmlHttp.getResponseHeader(<span class="string">"Date"</span>))</div><div class="line">  <span class="keyword">return</span> severTime</div><div class="line">&#125;</div><div class="line"><span class="comment">//换奖活动兑奖倒计时</span></div><div class="line"><span class="keyword">var</span> clockTime = <span class="literal">null</span>;</div><div class="line"><span class="keyword">var</span> clockRuning = <span class="literal">false</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">setClock</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="comment">// var now = new Date();</span></div><div class="line">    <span class="keyword">var</span> now = getSevertime();</div><div class="line">    <span class="comment">//兑奖的终点时间</span></div><div class="line">    <span class="keyword">var</span> endTime = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">'2016/01/16 10:00:00'</span>);</div><div class="line">    <span class="keyword">var</span> t = endTime.getTime() - now.getTime();</div><div class="line">    <span class="keyword">if</span>(t &lt; <span class="number">0</span>) clearInterval(clockTime);</div><div class="line">    	<span class="comment">// 获取时差的天 时 分 秒</span></div><div class="line">       <span class="keyword">var</span> d=<span class="built_in">Math</span>.floor(t/<span class="number">1000</span>/<span class="number">60</span>/<span class="number">60</span>/<span class="number">24</span>);</div><div class="line">       <span class="keyword">var</span> h=<span class="built_in">Math</span>.floor(t/<span class="number">1000</span>/<span class="number">60</span>/<span class="number">60</span>%<span class="number">24</span>);</div><div class="line">       <span class="keyword">var</span> m=<span class="built_in">Math</span>.floor(t/<span class="number">1000</span>/<span class="number">60</span>%<span class="number">60</span>);</div><div class="line">       <span class="keyword">var</span> s=<span class="built_in">Math</span>.floor(t/<span class="number">1000</span>%<span class="number">60</span>);</div><div class="line">    <span class="keyword">var</span> _html = <span class="string">''</span>;</div><div class="line">    <span class="keyword">if</span>(d&gt;<span class="number">0</span>) _html += <span class="string">'&lt;span class="muted"&gt;'</span>+d+<span class="string">'&lt;/span&gt;&lt;span class="span"&gt;天&lt;/span&gt;'</span>;</div><div class="line">    <span class="keyword">if</span>(h&gt;=<span class="number">10</span>) _html += <span class="string">'&lt;span class="muted"&gt;'</span>+h.toString().slice(<span class="number">0</span>,<span class="number">1</span>)+<span class="string">'&lt;/span&gt;&lt;span class="muted"&gt;'</span>+h.toString().slice(<span class="number">1</span>,<span class="number">2</span>)+<span class="string">'&lt;/span&gt;&lt;span class="span2"&gt;:&lt;/span&gt;'</span>;</div><div class="line">    <span class="keyword">if</span>(h&lt;<span class="number">10</span>) _html += <span class="string">'&lt;span class="muted"&gt;0&lt;/span&gt;&lt;span class="muted"&gt;'</span>+h+<span class="string">'&lt;/span&gt;&lt;span class="span2"&gt;:&lt;/span&gt;'</span>;</div><div class="line">    <span class="keyword">if</span>(m&gt;=<span class="number">10</span>) _html += <span class="string">'&lt;span class="muted"&gt;'</span>+m.toString().substring(<span class="number">0</span>,<span class="number">1</span>)+<span class="string">'&lt;/span&gt;&lt;span class="muted"&gt;'</span>+m.toString().substring(<span class="number">1</span>,<span class="number">2</span>)+<span class="string">'&lt;/span&gt;'</span>;</div><div class="line">    <span class="keyword">if</span>(m&lt;<span class="number">10</span>) _html += <span class="string">'&lt;span class="muted"&gt;0&lt;/span&gt;&lt;span class="muted"&gt;'</span>+m+<span class="string">'&lt;/span&gt;'</span>;</div><div class="line">    <span class="keyword">if</span>(getId(<span class="string">'clockTime'</span>))&#123;</div><div class="line">        getId(<span class="string">'clockTime'</span>).innerHTML = _html;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">setClock();<span class="comment">//初始化</span></div><div class="line"><span class="comment">// 每分钟变化一次</span></div><div class="line"><span class="keyword">var</span> clockTime = setInterval(setClock,<span class="number">60000</span>);</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="QQ分享api"><a href="#QQ分享api" class="headerlink" title="QQ分享api"></a>QQ分享api</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">itemprop</span>=<span class="string">"name"</span> <span class="attr">content</span>=<span class="string">"这是分享的标题"</span>/&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">itemprop</span>=<span class="string">"image"</span> <span class="attr">content</span>=<span class="string">"http://imgcache.qq.com/qqshow/ac/v4/global/logo.png"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"description"</span> <span class="attr">itemprop</span>=<span class="string">"description"</span> <span class="attr">content</span>=<span class="string">"这是要分享的内容"</span> /&gt;</span></div></pre></td></tr></table></figure>
<p>参考： <a href="https://www.zhihu.com/question/21925276" target="_blank" rel="external">知乎</a> <a href="http://open.mobile.qq.com/index" target="_blank" rel="external">QQAPI</a></p>
<p>一直没弄明白网站开头的 <code>meta</code> 是干啥用的，这会才知道是qq分享的api。</p>
<h4 id="网页中获取元素的高宽"><a href="#网页中获取元素的高宽" class="headerlink" title="网页中获取元素的高宽"></a>网页中获取元素的高宽</h4><p>这是特别容易混淆的一块数据api记忆，每次使用基本都要重阅一遍api，现在记录摘要如下：</p>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">1. 	document.body.clientWidth    ==&gt; BODY对象宽度</div><div class="line">2.  document.body.clientHeight   ==&gt; BODY对象高度</div><div class="line">3.  document.documentElement.clientWidth  ==&gt; 可见区域的宽度</div><div class="line">4.  document.documentElement.clientHeight ==&gt;  可见区域的高度</div><div class="line">5	document.body.offsetWidth    ==&gt; BODY可见区域宽度包括边框</div><div class="line">6.  document.body.offsetHeight   ==&gt; BODY可见区域高度包括边框</div><div class="line">7.  document.body.scrollHeight   ==&gt; 网页全文高度</div><div class="line">8.  document.body.scrollWidth    ==&gt;  网页全文宽度</div><div class="line">9.  window.screenTop  ==&gt;  网页窗口距离顶部的高度</div><div class="line">10. window.screenLeft ==&gt;  网页窗口距离左边的宽度</div><div class="line">11. window.screen.width ==&gt; 屏幕分辨率宽</div><div class="line">12. window.screen.height ==&gt; 屏幕分辨率高</div><div class="line">13. window.screen.availHeight  ==&gt; 屏幕可用工作区域的高</div><div class="line">14. window.screen.availWidth   ==&gt; 屏幕可用工作区域的宽</div><div class="line">15. document.body.offsetLeft ==&gt; 获取对象相对父元素定位的坐偏移</div><div class="line">16. document.body.offsetTop  ==&gt; 获取对象相对父元素定位的上偏移</div><div class="line">17. event.clientX  ==&gt; 相对文档的坐偏移</div><div class="line">18. event.clientY  ==&gt; 相对文档的上偏移</div><div class="line">19. event.offsetX  ==&gt; 相对容器的左偏移</div><div class="line">20. event.offsetY  ==&gt; 相对容器的上偏移</div><div class="line">21. document.body.clientLeft ==&gt;  网页边框的宽度</div><div class="line">22. document.body.clentTop  ==&gt; 网页边框的高度</div></pre></td></tr></table></figure>
<p><code>clientWidth</code> 宽度是元素的原生宽度，不考虑样式表加入的任何样式（边框，外边距）</p>
<p><code>scrollWidth</code>      宽度是元素内容的全文宽度（在复杂的容器中计算较为复杂）</p>
<p><code>offsetTop</code> 如果没有父级<code>offsetParent</code> 属性的容器，则相对于文档的左偏移距离。</p>
<p><code>style</code> 对于获取元素的边框，定位，<code>margin</code> 的值可以通过 <code>style</code> 这个对象来获取。</p>
<p><strong>注意</strong> </p>
<p>在计算像素单位的时候，这些方法会取整如果想要获取精准值，要用另外的方法。受到 <code>box-sizing</code> 属性的设置变化，这些值也不尽然相同。</p>
<h4 id="数组中的高阶函数"><a href="#数组中的高阶函数" class="headerlink" title="数组中的高阶函数"></a>数组中的高阶函数</h4><p>和上文一样，数组中的不少高阶函数也是和上文所述一样，都是随用随查。现在也把其中的几种常用的函数总结如下：</p>
<p><strong>数组的高阶函数</strong> </p>
<table>
<thead>
<tr>
<th><strong>方法名</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>every</td>
<td>类似于运算符中的 &amp;&amp;, 返回 布尔值，不改变原数组</td>
</tr>
<tr>
<td>some</td>
<td>类似于运算符中的</td>
</tr>
<tr>
<td>filter</td>
<td>类似于sql语句中的 where, 返回新数组</td>
</tr>
<tr>
<td>map</td>
<td>类似于sql语句中的 select, 返回新数组</td>
</tr>
<tr>
<td>foreach</td>
<td>遍历元素的操作，此函数没有返回值</td>
</tr>
<tr>
<td>reduce</td>
<td>聚合汇总，返回一个独立的值</td>
</tr>
</tbody>
</table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// arr.every(callback)</span></div><div class="line"><span class="comment">// 判断数组中的每一项是否都大于10</span></div><div class="line"><span class="comment">// 如果是空数组，callback不会执行，返回true</span></div><div class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>];</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">isBigEnough</span>(<span class="params">item, index, arr</span>)</span>&#123; </div><div class="line">  <span class="keyword">return</span> (item &gt; <span class="number">10</span>)</div><div class="line">&#125;</div><div class="line">arr.every(isBigEnough) <span class="comment">// false</span></div><div class="line"><span class="comment">// arr.filter(callback)</span></div><div class="line"><span class="comment">// 根据条件返回一个新数组</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">isBigNum</span>(<span class="params">item, index, arr</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> item &gt; <span class="number">10</span></div><div class="line">&#125;</div><div class="line">arr.filter(isBigNum)</div><div class="line"></div><div class="line"><span class="comment">// arr.map(callback)</span></div><div class="line"><span class="comment">// 为数组中的每一项执行操作</span></div><div class="line"><span class="comment">// 求数组中每个元素的平方根</span></div><div class="line">arr.map(<span class="built_in">Math</span>.sqrt)</div><div class="line"></div><div class="line"><span class="comment">// arr.reduce(callback[,initValue])</span></div><div class="line"><span class="comment">// 对累加器和数组中的每个元素（从左到右）应用一个函数，将其减少为一个单个值</span></div><div class="line"></div><div class="line"><span class="comment">/*聚合数组*/</span></div><div class="line"><span class="keyword">var</span> flat = [[<span class="number">0</span>,<span class="number">1</span>],[<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>]].reduce(<span class="function"><span class="keyword">function</span>(<span class="params">a, b, c, d</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> a.concat(b);</div><div class="line">&#125;,[]);</div><div class="line"></div><div class="line"><span class="comment">/*计算数组中每个元素出现的次数*/</span></div><div class="line"><span class="keyword">var</span> names = [<span class="string">'Alice'</span>, <span class="string">'Bob'</span>, <span class="string">'Tiff'</span>, <span class="string">'Bob'</span>];</div><div class="line"><span class="keyword">var</span> countedNames = names.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">obj,name</span>)</span>&#123;</div><div class="line">  <span class="keyword">if</span> (name <span class="keyword">in</span> obj)&#123;</div><div class="line">    obj[name]++</div><div class="line">  &#125;<span class="keyword">else</span> &#123;</div><div class="line">    obj[name] = <span class="number">1</span></div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> obj</div><div class="line">&#125;,&#123;&#125;)</div><div class="line"></div><div class="line"><span class="comment">/*使用对象展开运算符绑定在对象中的每个数组*/</span></div><div class="line"><span class="keyword">var</span> friends = [&#123;</div><div class="line">  <span class="attr">name</span>: <span class="string">'Anna'</span>,</div><div class="line">  <span class="attr">books</span>: [<span class="string">'Bible'</span>, <span class="string">'Harry Potter'</span>],</div><div class="line">  <span class="attr">age</span>: <span class="number">21</span></div><div class="line">&#125;, &#123;</div><div class="line">  <span class="attr">name</span>: <span class="string">'Bob'</span>,</div><div class="line">  <span class="attr">books</span>: [<span class="string">'War and peace'</span>, <span class="string">'Romeo and Juliet'</span>],</div><div class="line">  <span class="attr">age</span>: <span class="number">26</span></div><div class="line">&#125;, &#123;</div><div class="line">  <span class="attr">name</span>: <span class="string">'Alice'</span>,</div><div class="line">  <span class="attr">books</span>: [<span class="string">'The Lord of the Rings'</span>, <span class="string">'The Shining'</span>],</div><div class="line">  <span class="attr">age</span>: <span class="number">18</span></div><div class="line">&#125;];</div><div class="line"><span class="keyword">var</span> allbooks = friends.reduce(<span class="function">(<span class="params">prev, curr</span>) =&gt;</span> &#123;</div><div class="line">  <span class="keyword">return</span> [...prev, ...curr]</div><div class="line">&#125;,[])</div><div class="line"></div><div class="line"><span class="comment">/*数组去重*/</span></div><div class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">4</span>];</div><div class="line"><span class="keyword">let</span> result = arr.reduce(<span class="function">(<span class="params">prv,curr</span>)=&gt;</span>&#123;</div><div class="line">  <span class="keyword">if</span>(prv.indexOf(curr) == <span class="number">-1</span>)&#123;</div><div class="line">    prv.push(curr)</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> prv</div><div class="line">&#125;,[])</div><div class="line"><span class="comment">// 或者这样</span></div><div class="line"><span class="keyword">let</span> result = arr.sort().reduce(<span class="function">(<span class="params">init,curr</span>)=&gt;</span>&#123;</div><div class="line">  <span class="keyword">if</span> (init.length === <span class="number">0</span> || init[init.length<span class="number">-1</span>] !== curr)&#123;</div><div class="line">    init.push(init)</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> init</div><div class="line">&#125;,[])</div></pre></td></tr></table></figure>
<h4 id="flex布局"><a href="#flex布局" class="headerlink" title="flex布局"></a>flex布局</h4><p>关于flex布局我想很多人已经对它的兼容性吐槽了整整地球一圈了。今天我们来梳理它的兼容性写法, 为了不让“前浪拍死在沙滩上”，为了技术不断向前推进。</p>
<p>flex的历史背景稍微有点复杂，经历了两个新旧版本的迭代，所以我们要写两个版本的css样式，但是有一点很值得注意： 所有的浏览器都是 <strong>向下兼容</strong> 的，所以我们的写法也应该是把旧版本的语法写在下面。</p>
<p>Lets go</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* 弹性盒子 */</span></div><div class="line"><span class="selector-class">.flex-box</span>&#123;</div><div class="line">    <span class="comment">/*12版*/</span></div><div class="line">    <span class="attribute">display</span>: -webkit-flex;  <span class="comment">/* 新版本语法: Chrome 21+ */</span></div><div class="line">    <span class="attribute">display</span>: flex;          <span class="comment">/* 新版本语法: Opera 12.1, Firefox 22+ */</span></div><div class="line">    <span class="comment">/*09版*/</span></div><div class="line">    <span class="attribute">display</span>: -webkit-box;   <span class="comment">/* 老版本语法: Safari, iOS, Android browser, older WebKit browsers. */</span></div><div class="line">    <span class="attribute">display</span>: -moz-box;      <span class="comment">/* 老版本语法: Firefox (buggy) */</span></div><div class="line">    <span class="attribute">display</span>: -ms-flexbox;   <span class="comment">/* 混合版本语法: IE 10 */</span>   </div><div class="line"> &#125;</div><div class="line"></div><div class="line"><span class="comment">/* 子元素-平均分栏 */</span></div><div class="line"><span class="selector-class">.flex1</span> &#123;</div><div class="line">     <span class="comment">/*12版*/</span></div><div class="line">	<span class="attribute">-webkit-flex</span>: <span class="number">1</span>;		  <span class="comment">/* Chrome */</span></div><div class="line">	<span class="attribute">-ms-flex</span>: <span class="number">1</span>;			  <span class="comment">/* IE 10 */</span></div><div class="line">	<span class="attribute">flex</span>: <span class="number">1</span>;				  <span class="comment">/* NEW, Spec - Opera 12.1, Firefox 20+ */</span></div><div class="line">    <span class="comment">/*09版*/</span></div><div class="line">    <span class="attribute">-webkit-box-flex</span>: <span class="number">1</span>;	  <span class="comment">/* OLD - iOS 6-, Safari 3.1-6 */</span></div><div class="line">	<span class="attribute">-moz-box-flex</span>: <span class="number">1</span>;		 <span class="comment">/* OLD - Firefox 19- */</span> </div><div class="line">&#125;</div><div class="line"><span class="comment">/* 父元素-横向排列（主轴） */</span></div><div class="line"><span class="selector-class">.flex-h</span> &#123;</div><div class="line">	<span class="comment">/* 12版 */</span></div><div class="line">	<span class="attribute">-webkit-flex-direction</span>: row;</div><div class="line">	<span class="attribute">-moz-flex-direction</span>: row;</div><div class="line">	<span class="attribute">-ms-flex-direction</span>: row;</div><div class="line">	<span class="attribute">-o-flex-direction</span>: row;</div><div class="line">	<span class="attribute">flex-direction</span>: row;</div><div class="line">    <span class="comment">/* 09版 */</span></div><div class="line">	<span class="attribute">-webkit-box-orient</span>: horizontal;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/* 父元素-横向换行 */</span></div><div class="line"><span class="selector-class">.flex-hw</span> &#123;</div><div class="line">	<span class="comment">/* 12版 */</span></div><div class="line">	<span class="attribute">-webkit-flex-wrap</span>: wrap;</div><div class="line">	<span class="attribute">-moz-flex-wrap</span>: wrap;</div><div class="line">	<span class="attribute">-ms-flex-wrap</span>: wrap;</div><div class="line">	<span class="attribute">-o-flex-wrap</span>: wrap;</div><div class="line">	<span class="attribute">flex-wrap</span>: wrap;</div><div class="line">    <span class="comment">/* 09版 */</span></div><div class="line">	<span class="attribute">-webkit-box-lines</span>: multiple;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/* 父元素-水平居中（主轴是横向才生效） */</span></div><div class="line"><span class="selector-class">.flex-hc</span> &#123;</div><div class="line">	<span class="comment">/* 12版 */</span></div><div class="line">	<span class="attribute">-webkit-justify-content</span>: center;</div><div class="line">	<span class="attribute">-moz-justify-content</span>: center;</div><div class="line">	<span class="attribute">-ms-justify-content</span>: center;</div><div class="line">	<span class="attribute">-o-justify-content</span>: center;</div><div class="line">	<span class="attribute">justify-content</span>: center;</div><div class="line">    <span class="comment">/* 09版 */</span></div><div class="line">	<span class="attribute">-webkit-box-pack</span>: center;</div><div class="line">	<span class="comment">/* 其它取值如下：</span></div><div class="line">		align-items	 主轴原点方向对齐</div><div class="line">		flex-end		主轴延伸方向对齐</div><div class="line">		space-between   等间距排列，首尾不留白</div><div class="line">		space-around	等间距排列，首尾留白</div><div class="line">	 */</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/* 父元素-纵向排列（主轴） */</span></div><div class="line"><span class="selector-class">.flex-v</span> &#123; </div><div class="line">	<span class="comment">/* 12版 */</span></div><div class="line">	<span class="attribute">-webkit-flex-direction</span>: column;</div><div class="line">	<span class="attribute">-moz-flex-direction</span>: column;</div><div class="line">	<span class="attribute">-ms-flex-direction</span>: column;</div><div class="line">	<span class="attribute">-o-flex-direction</span>: column;</div><div class="line">	<span class="attribute">flex-direction</span>: column;</div><div class="line">    <span class="comment">/* 09版 */</span></div><div class="line">	<span class="attribute">-webkit-box-orient</span>: vertical;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/* 父元素-纵向换行 */</span></div><div class="line"><span class="selector-class">.flex-vw</span> &#123;</div><div class="line">	<span class="comment">/* 12版 */</span></div><div class="line">	<span class="attribute">-webkit-flex-wrap</span>: wrap;</div><div class="line">	<span class="attribute">-moz-flex-wrap</span>: wrap;</div><div class="line">	<span class="attribute">-ms-flex-wrap</span>: wrap;</div><div class="line">	<span class="attribute">-o-flex-wrap</span>: wrap;</div><div class="line">	<span class="attribute">flex-wrap</span>: wrap;</div><div class="line">     <span class="comment">/* 09版 */</span></div><div class="line">	<span class="attribute">-webkit-box-lines</span>: multiple;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/* 父元素-竖直居中（主轴是横向才生效） */</span></div><div class="line"><span class="selector-class">.flex-vc</span> &#123;</div><div class="line">	<span class="comment">/* 12版 */</span></div><div class="line">	<span class="attribute">-webkit-align-items</span>: center;</div><div class="line">	<span class="attribute">-moz-align-items</span>: center;</div><div class="line">	<span class="attribute">-ms-align-items</span>: center;</div><div class="line">	<span class="attribute">-o-align-items</span>: center;</div><div class="line">	<span class="attribute">align-items</span>: center;</div><div class="line">     <span class="comment">/* 09版 */</span></div><div class="line">	<span class="attribute">-webkit-box-align</span>: center;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/* 子元素-显示在从左向右（从上向下）第1个位置，用于改变源文档顺序显示 */</span></div><div class="line"><span class="selector-class">.flex-1</span> &#123;</div><div class="line">    <span class="comment">/* 12版 */</span></div><div class="line">    <span class="attribute">-ms-flex-order</span>: <span class="number">1</span>;			  <span class="comment">/* TWEENER - IE 10 */</span></div><div class="line">	<span class="attribute">-webkit-order</span>: <span class="number">1</span>;			   <span class="comment">/* NEW - Chrome */</span></div><div class="line">	<span class="attribute">order</span>: <span class="number">1</span>;					   <span class="comment">/* NEW, Spec - Opera 12.1, Firefox 20+ */</span></div><div class="line">    <span class="comment">/* 09版 */</span></div><div class="line">	<span class="attribute">-webkit-box-ordinal-group</span>: <span class="number">1</span>;   <span class="comment">/* OLD - iOS 6-, Safari 3.1-6 */</span></div><div class="line">	<span class="attribute">-moz-box-ordinal-group</span>: <span class="number">1</span>;	  <span class="comment">/* OLD - Firefox 19- */</span></div><div class="line">	</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>暂时先码到这里，还有一些参阅 <a href="https://segmentfault.com/a/1190000003978624" target="_blank" rel="external">博客</a> </p>
<h4 id="简单的循环滚动"><a href="#简单的循环滚动" class="headerlink" title="简单的循环滚动"></a>简单的循环滚动</h4><p>关于动画的实现，使用jquery 提供的animation函数来实现，似乎大多数的效果都可以封装进去。甚至我们使用第三方的动画库，如 <code>Animate.css</code> 或者 <code>swiper</code> 这样我们只需要写一行js就搞定了。</p>
<p>但是在使用vue.js 的时候，动画的写法变得“复杂”，主要是我们以前太依赖封装的动画特性了。所以这次我们站在原生和jq的角度来写个小demo.</p>
<p><strong>公告滚动案例</strong> </p>
<ul>
<li>原生的写法</li>
</ul>
<p>HTML结构</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"demo"</span> <span class="attr">style</span>=<span class="string">"position:relative;overflow:hidden;height:132px;width:350px; border:1px solid #dde5bc;"</span>&gt;</span></div><div class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"demo1"</span>&gt;</span> </div><div class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>多彩的电脑机箱图标，很多颜色和风格……<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>地方税务局网站建设方案 ……<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>获得系统内存，并以圆饼图表现百分比……<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>多彩的电脑机箱图标，很多颜色和风格……<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>完全兼容IE, FF, Opera, 其它的还未经测试……<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>地方税务局网站建设方案 ……<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>多彩的电脑机箱图标，很多颜色和风格……<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>地方税务局网站建设方案 ……<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>完全兼容IE, FF, Opera, 其它的还未经测试……<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>获得系统内存，并以圆饼图表现百分比……<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>完全兼容IE, FF, Opera, 其它的还未经测试……<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>获得系统内存，并以圆饼图表现百分比……<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line"> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"demo2"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>虽然复制demo1的方式 来实现循环似乎有点 low, 但是想法这个东西真的是最奇妙的，不同的思维道路都可以到达同一个目标。这也是编程的魅力所在。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> speed = <span class="number">30</span>,</div><div class="line">    demo = <span class="built_in">document</span>.getElementById(<span class="string">'demo'</span>),</div><div class="line">    demo1 = <span class="built_in">document</span>.getElementById(<span class="string">'demo1'</span>),</div><div class="line">    dome2 = <span class="built_in">document</span>.getElementById(<span class="string">'demo2'</span>);</div><div class="line">demo2.innerHTML = demo1.innerHTML;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Marquee</span>(<span class="params"></span>)</span>&#123;</div><div class="line">   <span class="comment">// 当demo2的顶部滚动到容器的最顶端的时候，再次把demo1回退到容器的最顶部</span></div><div class="line">  <span class="keyword">if</span> (demo2.offsetTop &lt;= demo.scrollTop)&#123;</div><div class="line">    <span class="comment">// demo.scrollTop = 0 这里不能使用这种写法，会有误差</span></div><div class="line">    <span class="built_in">console</span>.log(demo.scrollTop,demo1.offsetHeight)  <span class="comment">// 227 214</span></div><div class="line">    demo.scrollTop -= demo1.offsetHeight</div><div class="line">  &#125;<span class="keyword">else</span> &#123;</div><div class="line">    <span class="comment">// 否则的话demo1向上滚动</span></div><div class="line">    demo.scrollTop++;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> MyMar = setInterval(Marquee, speed)</div><div class="line"><span class="comment">// 添加鼠标移入和移出事件</span></div><div class="line">demo.onmouseover = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;clearInterval(MyMar)&#125;</div><div class="line">demo.onmouseout = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;MyMar = setInterval(Marquee,speed)&#125;</div></pre></td></tr></table></figure>
<p>原生的方式，除了动画会因为时间间隔有抖动的影响以外，真的很简洁，瞬间启动。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery实现方式，因为.stop()加上使得回调函数不执行，坑了我好长时间</span></div><div class="line"><span class="comment">// 另外还有循环动画不连贯的问题，确实坑挺多</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Marquee</span>(<span class="params"></span>) </span>&#123; </div><div class="line">		$(demo).animate(&#123;</div><div class="line">            <span class="attr">scrollTop</span>: h</div><div class="line">        &#125;,<span class="number">5000</span>,<span class="string">'linear'</span>,<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">            <span class="comment">// callback</span></div><div class="line">            <span class="built_in">console</span>.log(<span class="keyword">this</span>+<span class="string">'开始进行callback函数'</span>)</div><div class="line">			demo.scrollTop = <span class="number">0</span></div><div class="line">		&#125;) </div><div class="line">	&#125;</div></pre></td></tr></table></figure>
<p>主要在控制动画中途停止之后，怎么能连贯地完成整个动画。连官网的<a href="http://www.w3school.com.cn/tiy/t.asp?f=jquery_effect_stop" target="_blank" rel="external">动画</a> 都存在这样的问题。转为原生粉–。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/01/31/vue-api/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ChrisJx">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Coding for more love!">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/01/31/vue-api/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-01-31T15:42:15+08:00">
                2018-01-31
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<p>title: vue-api<br>layout: post<br>date: 2018-2-22<br>comments: true<br>categories: vue-api<br>tags: [vue, api]<br>keywords: vue, api</p>
<h2 id="description-生活总需要一些记录，也许我们无法成为“那样的人”，但是有些脚印是我们走过的，留在那里也很美丽！"><a href="#description-生活总需要一些记录，也许我们无法成为“那样的人”，但是有些脚印是我们走过的，留在那里也很美丽！" class="headerlink" title="description: 生活总需要一些记录，也许我们无法成为“那样的人”，但是有些脚印是我们走过的，留在那里也很美丽！"></a>description: 生活总需要一些记录，也许我们无法成为“那样的人”，但是有些脚印是我们走过的，留在那里也很美丽！</h2><blockquote>
<p>之前已经初步概览了官网的相关API, 并且做了一个 todoMVC 的小案例。现在重新回过头来熟悉一遍，果然还是业务型框架，不写两个小项目无法体会到其中的用意。AND  GO …</p>
</blockquote>
<h3 id="了解"><a href="#了解" class="headerlink" title="了解"></a>了解</h3><ul>
<li>关于 api 的代码运行环境是     </li>
</ul>
<p><code>vue -V</code>      2.9.2</p>
<ul>
<li>兼容性</li>
</ul>
<p>vue 不支持IE8及以下的版本，因为vue原理上使用了IE8不能模拟的ECMAScript 5 特性。它支持所有<strong>兼容ECMAScript 5 的浏览器</strong>。</p>
<ul>
<li>日志</li>
</ul>
<p>vue最新的稳定版本是： 2.5.13</p>
<h4 id="简单的应用（声明式渲染）"><a href="#简单的应用（声明式渲染）" class="headerlink" title="简单的应用（声明式渲染）"></a>简单的应用（声明式渲染）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&lt;div&gt;</div><div class="line">   &#123;&#123;msg&#125;&#125;</div><div class="line">&lt;/div&gt;</div><div class="line">&lt;script&gt;</div><div class="line">    // 组件中</div><div class="line">	export default&#123;</div><div class="line">		data()&#123;</div><div class="line">			return &#123;</div><div class="line">          		msg: &apos;hello&apos;</div><div class="line">      		&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<p>这是在组件中的数据，配合 <code>devTool</code> 可以快捷地测试组件数据。</p>
<p>现在，我们已经把数据和DOM进行了关联，并且所有的东西都是 <strong>响应式</strong> 的。</p>
<p>除了简单的文本插值，我们还可以通过 <strong>指令</strong> 给DOM渲染特殊的响应式行为。比如，绑定DOM属性。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">&lt;div :title=&quot;msg&quot;&gt;</div><div class="line">  helllo</div><div class="line">&lt;/div&gt;</div><div class="line">&lt;script&gt;</div><div class="line">  export default&#123;</div><div class="line">    data()&#123;</div><div class="line">      return &#123;</div><div class="line">        msg: &apos;鼠标悬停可以查看到内容&apos;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<h4 id="条件与循环"><a href="#条件与循环" class="headerlink" title="条件与循环"></a>条件与循环</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;div&gt;</div><div class="line">  &lt;p v-if=&quot;comments&quot;&gt;</div><div class="line">    评论内容</div><div class="line">  &lt;/p&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
<p>通过 <code>v-if</code> 我们还可以控制DOM结构，而且在Vue <strong>插入/更新/移除</strong> 时会自动应用过渡效果。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;ul&gt;</div><div class="line">  &lt;li v-for=&quot;product in products&quot;&gt;&#123;&#123;product&#125;&#125;&lt;/li&gt;</div><div class="line">&lt;/ul&gt;</div></pre></td></tr></table></figure>
<p>以上是 利用 <code>v-for</code> 进行列表渲染。同样，可以向列表中添加和删除内容。</p>
<h4 id="用户输入"><a href="#用户输入" class="headerlink" title="用户输入"></a>用户输入</h4><p>为了和用户进行交互，我们用 <code>v-on</code> 指令添加一个事件监听器，通过它调用在vue实例中定义的方法。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">&lt;div&gt;</div><div class="line">  &lt;p&gt;</div><div class="line">    &#123;&#123;message&#125;&#125;</div><div class="line">  &lt;/p&gt;</div><div class="line">  &lt;button @click=&quot;reverseMessage&quot;&gt;</div><div class="line">    逆转消息</div><div class="line">  &lt;/button&gt;</div><div class="line">&lt;/div&gt;</div><div class="line">&lt;script&gt;</div><div class="line">  export default&#123;</div><div class="line">    data()&#123;</div><div class="line">      return &#123;message: &apos;hello    world&apos;&#125;</div><div class="line">    &#125;,</div><div class="line">    methods: &#123;</div><div class="line">      reverseMessage()&#123;</div><div class="line">        this.message = this.message.split(&apos;&apos;).reverse().join(&apos;&apos;)</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<p>几乎所有的框架都会涉及的  <strong>“双向绑定”</strong> ，把表单输入和应用的状态进行双向绑定，实际应用中暂时没有涉及。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&lt;div&gt;</div><div class="line">  &lt;p&gt;</div><div class="line">    &#123;&#123;msg&#125;&#125;</div><div class="line">  &lt;/p&gt;</div><div class="line">  &lt;input v-model=&quot;msg&quot;&gt;</div><div class="line">&lt;/div&gt;</div><div class="line">&lt;script&gt;</div><div class="line">  export default&#123;</div><div class="line">    data()&#123;</div><div class="line">      return &#123;</div><div class="line">        msg: &apos;oh, double data bind&apos;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<h3 id="组件化应用构建"><a href="#组件化应用构建" class="headerlink" title="组件化应用构建"></a>组件化应用构建</h3><p>组件化构建应用是最开始学习vue最疑惑的一点，死活加载不到组件，也想不出来组件的妙用到底在哪里。直到在项目中初步抽象组件，才认识到： <strong>组件系统是 Vue 的另一个重要概念，因为它是一种抽象，允许我们使用小型、独立和通常可复用的组件构建大型应用。仔细想想，几乎任意类型的应用界面都可以抽象为一个组件树 </strong>  </p>
<p>以全局组件为例</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">Vue.component(&apos;todo-item&apos;, &#123;</div><div class="line">	template: &apos;&lt;h1&gt;&#123;&#123;todo.text&#125;&#125;&lt;/h1&gt;&apos;,</div><div class="line">	props: [&apos;todo&apos;] // 接受父作用域传递的属（值）</div><div class="line">&#125;)</div><div class="line">var app = new Vue&#123;</div><div class="line">	el: &apos;#app&apos;,</div><div class="line">    data: &#123;</div><div class="line">    items: [</div><div class="line">          &#123; id: 0, text: &apos;蔬菜&apos; &#125;,</div><div class="line">          &#123; id: 1, text: &apos;奶酪&apos; &#125;,</div><div class="line">          &#123; id: 2, text: &apos;随便其它什么人吃的东西&apos;&#125;</div><div class="line">        ]</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">// 定义组件</div><div class="line">// 构建另一个个组件</div><div class="line">&lt;div&gt;</div><div class="line">  &lt;todo-item</div><div class="line">   v-for=&quot;item in items&quot; // 组件的结构控制（循环）</div><div class="line">   v-bind:todo=&quot;item&quot; // 传递组件需要的数据</div><div class="line">   v-bind:key=&quot;item.id&quot; // 标识组件DOM节点的独立性 </div><div class="line">             &gt;&lt;/todo-item&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
<p>这个key值显得很神秘，简单来说是vue为了提升渲染性能提供的，方便数据改变的时候，重用DOM和重新排列现有的元素。</p>
<p>vue的组件化会使父子组件完全解耦，这样遇到复杂的逻辑和模板，就不会相互影响。但是组件间的交互非常多，尤其是父子组件，组父子组件，兄弟组件间的数据交叉很多。</p>
<p>所以目前有3种方法： </p>
<ol>
<li>父组件将一个数据 props 赋给两个子组件，并是 sync 的，子组件watch 数据回调。</li>
<li>event bus (发布订阅模式)</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">var bar = new Vue()</div><div class="line">// in componetA`s method</div><div class="line">bus.$emit(&apos;id_selected&apos;,1)</div><div class="line">// in componentB`s method</div><div class="line">bus.$on(&apos;id_selected&apos;,function(id)&#123;</div><div class="line">	// ....</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<ol>
<li><code>$dispatch</code> <code>$broadcast</code> 建议不用</li>
<li>vuex</li>
</ol>
<p>理想的组件化应用是</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;div id=&quot;app&quot;&gt;</div><div class="line">  &lt;app-nav&gt;&lt;/app-nav&gt;</div><div class="line">  &lt;app-view&gt;</div><div class="line">    &lt;app-sidebar&gt;&lt;/app-sidebar&gt;</div><div class="line">    &lt;app-content&gt;&lt;/app-content&gt;</div><div class="line">  &lt;/app-view&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
<h4 id="Vue实例的生命周期"><a href="#Vue实例的生命周期" class="headerlink" title="Vue实例的生命周期"></a>Vue实例的生命周期</h4><p>vue实例在被创建时会经历一系列的初始化过程，设置数据监听、编译模板、将实例挂载到DOM并在数据变化的时候更新DOM等。在这个过程中会运行一些  <strong>生命周期钩子</strong> 的函数，我们自己的代码可以选择性添加到这些钩子中。</p>
<p>官方写了一段意味深长的话：</p>
<blockquote>
<p>你不需要立马弄明白所有的东西，不过随着你的不断学习和使用，它的参考价值会越来越高。</p>
</blockquote>
<p>大致是这么一段过程：</p>
<p><code>new Vue()</code> —-&gt; <code>init Events &amp; Lifecyle</code> —–&gt; <code>beforeCreate[★]</code> ——&gt; <code>init injections &amp; reactivity</code> —–&gt;  <code>created[★]</code> ——&gt;  <code>el</code> option (no, vm.$mount(el) is called)——-&gt;  <code>has Template option</code> (no compile el s outerHTMl as template) ——-&gt; compile template into render function ——–&gt; <code>beforeMount[★]</code> ——&gt;  <code>create vm.￥el and replace &#39;el&#39; with it</code> ——-&gt;  <code>mounted[★]</code> ——-&gt; Mounted(when data changes emit <code>beforeUpdate</code> VirtualDOM re-render and patch) then emit <code>updated[★]</code> ——–&gt; when vm.destroy() is called ——-&gt; <code>beforeDestroy</code> ——-&gt; teardown watchers, child components and event listeners ——–&gt; <code>destroyed[★]</code> </p>
<p>目前使用最多的钩子是 <code>mounted</code> ，即数据挂载阶段。</p>
<h4 id="模板语法的力量"><a href="#模板语法的力量" class="headerlink" title="模板语法的力量"></a>模板语法的力量</h4><p><strong>文本插值</strong> </p>
<p>最常使用的是mustache语法进行插值，可以加入简单的条件判断表达式，官网上值得注意的地方是 <code>v-once</code> 指令可以进行一次性的插值，该方法会影响到这个节点上所有的数据绑定。</p>
<p><strong>原始HTML</strong></p>
<p><code>v-html</code> 进行htmL插值</p>
<p><strong>属性</strong></p>
<p><code>v-bind</code> 指令进行属性的绑定</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;button v-bind:disabled=&quot;isButtionDisbaled&quot;&gt;</div><div class="line">  Button</div><div class="line">&lt;/button&gt;</div><div class="line">// 如果 `isButtonDisabled` 的值是 null、undefined、false、0.那么 disable属性甚至不会被包含在渲染出来的 button 元素中。</div></pre></td></tr></table></figure>
<p><strong>注意</strong></p>
<p>模板中的每个绑定都只包含单个表达式，控制和循环流都不会生效，另外 模板表达式都被放在沙盒中进行，只能访问全局变量的一个白名单，比如Math 和 Date。不能在模板中访问用户自定义的全局变量。</p>
<p><strong>指令</strong> </p>
<p>关于指令，有一个<strong>修饰符</strong> ，方便地解决了我在业务中遇到的问题，但是要结合css布局，我感觉这在处理事件时大大减少了代码量。</p>
<h4 id="计算属性和观察者模式"><a href="#计算属性和观察者模式" class="headerlink" title="计算属性和观察者模式"></a>计算属性和观察者模式</h4><p>当我们在模板中遇到复杂的业务逻辑时，会让模板变的 “笨重” 。所以对复杂的业务逻辑都应该使用 <strong>计算属性</strong> </p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">&lt;div&gt;</div><div class="line">  &lt;p&gt;</div><div class="line">    &#123;&#123;reversedMessage&#125;&#125;</div><div class="line">  &lt;/p&gt;</div><div class="line">&lt;/div&gt;</div><div class="line">// ....</div><div class="line">computed: &#123;</div><div class="line"> // 计算属性的getter</div><div class="line">	reversedMessage()&#123;</div><div class="line">		return this.message.split(&apos;&apos;).reverse().join(&apos;&apos;)</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>现在我们可以像普通属性一样在模板中绑定计算属性，而且，我们知道 <code>vm.reverseMessage</code> 依赖于 <code>vm.message</code> 。因此当 <code>vm.message</code> 发生变化的时候， <code>vm.reverseMessage</code> 也会发生变化。很有意思的一点是，我们声明了这种依赖关系，计算属性的 <code>getter</code> 函数是没有什么 side effect 的。（它是 <strong>基于依赖进行缓存的</strong> ，只要依赖没有发生变化，计算属性就会从缓存中读取 ）</p>
<p>比如下面的计算属性就不会更新，因为 <code>Date.now()</code> 不是响应式依赖。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">computed: &#123;</div><div class="line">  now()&#123;</div><div class="line">	return Date.now</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>相比较函数而言，函数是每次都会重新计算，发现一个很有意思的验证demo.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line">&lt;div&gt;</div><div class="line">  &lt;p&gt;</div><div class="line">    &#123;&#123;message&#125;&#125;&#123;&#123;now&#125;&#125;&#123;&#123;newDate()&#125;&#125;</div><div class="line">  &lt;/p&gt;</div><div class="line">  &lt;h1 v-if=&quot;isShow&quot;&gt;时间：&#123;&#123;now&#125;&#125;&lt;/h1&gt;</div><div class="line">  &lt;button @click=&quot;reverseMessage&quot;&gt;</div><div class="line">    逆转消息</div><div class="line">  &lt;/button&gt;</div><div class="line">&lt;/div&gt;</div><div class="line">// js</div><div class="line">  data()&#123;</div><div class="line">      return &#123;</div><div class="line">      	message: &apos;hello world&apos;,</div><div class="line">        isShow: false</div><div class="line">      &#125;</div><div class="line">    &#125;,</div><div class="line">    mounted()&#123;</div><div class="line">    	this.$nextTick(() =&gt; &#123;</div><div class="line">        setTimeout(() =&gt; &#123;</div><div class="line">          this.isShow = true;</div><div class="line">        &#125;,3000)</div><div class="line">      &#125;)</div><div class="line">    &#125;,</div><div class="line">    methods: &#123;</div><div class="line">      reverseMessage()&#123;</div><div class="line">        this.message = this.message.split(&apos;&apos;).reverse().join(&apos;&apos;)</div><div class="line">      &#125;,</div><div class="line">      newDate()&#123;</div><div class="line">        return Date.now()</div><div class="line">      &#125;</div><div class="line">    &#125;,</div><div class="line">    computed: &#123;</div><div class="line">      now: function () &#123;</div><div class="line">        return Date.now()</div><div class="line">      &#125;</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<p>如果是 <code>now</code> 每次点击按钮都不会发生时间的变化，如果是 <code>newDate()</code> 则每次都会改变时间。</p>
<p>另外，<code>v-if</code> 指令并不会影响数据渲染即 <code>mounted</code> 阶段。</p>
<h4 id="计算属性-pk-观察属性"><a href="#计算属性-pk-观察属性" class="headerlink" title="计算属性 pk 观察属性"></a>计算属性 pk 观察属性</h4><p>vue中提供了一种更加通用的方式来观察和响应 vue 实例上的数据变动： <strong>观察属性</strong> 。当我们有一些数据要随着其他数据变动而变动的时候，很容易滥用 <code>watch</code>  。确实自己在项目中也能够感觉到，不放心的属性都 <code>watch</code> 了一遍。</p>
<p>但是，更好的方式是通过  <code>computed</code> 计算属性。作者给了一个很好的例子，让我们相信计算属性的 <strong>依赖</strong> 力量。 </p>
<p>简单例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">&lt;div&gt;</div><div class="line">    &lt;div&gt;</div><div class="line">      &#123;&#123;fullName&#125;&#125;</div><div class="line">    &lt;/div&gt;</div><div class="line">    &lt;input type=&quot;text&quot; v-model=&quot;firstName&quot;&gt;</div><div class="line">    &lt;input type=&quot;text&quot; v-model=&quot;lastName&quot;&gt;</div><div class="line">&lt;/div&gt;</div><div class="line">&lt;script&gt;</div><div class="line">	export default&#123;</div><div class="line">		data()&#123;</div><div class="line">			return &#123;</div><div class="line">        firstName: &apos;Foo&apos;,</div><div class="line">        lastName: &apos;Bar&apos;,</div><div class="line">        fullName: &apos;Foo Bar&apos;</div><div class="line">      &#125;</div><div class="line">		&#125;,</div><div class="line">    watch: &#123;</div><div class="line">      firstName: &#123;</div><div class="line">      	handler(v,ov)&#123;</div><div class="line">      		this.fullName = v+this.lastName</div><div class="line">        &#125;</div><div class="line">      &#125;,</div><div class="line">      lastName: &#123;</div><div class="line">        handler(v,ov)&#123;</div><div class="line">          this.fullName = this.firstName+ v</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">	&#125;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<p>这是 观察属性 实现的，下面通过计算属性来实现，简单了不少。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">data()&#123;</div><div class="line">	<span class="keyword">return</span> &#123;</div><div class="line">        <span class="attr">firstName</span>: <span class="string">'Foo'</span>,</div><div class="line">        <span class="attr">lastName</span>: <span class="string">'Bar'</span></div><div class="line">      &#125;</div><div class="line">&#125;,</div><div class="line"> <span class="attr">computed</span>: &#123;</div><div class="line">    fullName()&#123;</div><div class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.firstName + <span class="keyword">this</span>.lastName</div><div class="line">    &#125;</div><div class="line">  &#125;</div></pre></td></tr></table></figure>
<h4 id="计算属性的setter"><a href="#计算属性的setter" class="headerlink" title="计算属性的setter"></a>计算属性的setter</h4><p>计算属性默认是只读的，因为只有 getter ,不过在需要的时候也可以提供一个 setter:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">//...</div><div class="line">computed: &#123;</div><div class="line">  fullName:&#123;</div><div class="line">	// getter</div><div class="line">    get()&#123;</div><div class="line">	 return this.firstName+&apos; &apos;+ this.lastName</div><div class="line">    &#125;,</div><div class="line">    set(v)&#123;</div><div class="line">	 var names = v.split(&apos; &apos;)</div><div class="line">      this.fitstName = names[0]</div><div class="line">      this.lastName = names[names.length - 1]</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="观察者模式"><a href="#观察者模式" class="headerlink" title="观察者模式"></a>观察者模式</h4><p>计算属性多数情况下都是合适的，但是我们也需要一个自定义观察者。vue 中用 <code>watch</code> 选项提供了一个更通用的方法来响应数据的变化，当数据变化时执行异步或开销比较大的操作时，这个方式是最有用的。</p>
<p>比如官网的机器人回答案例</p>
<h3 id="Class和Style的绑定"><a href="#Class和Style的绑定" class="headerlink" title="Class和Style的绑定"></a>Class和Style的绑定</h3><p>这个部分本来不打算详述的，但是官网看了一遍还是发现了自己平时使用过程中没有注意的细节问题。vue对样式的绑定做了专门的加强，样式绑定的表达式结果除了是字符串，还可以是对象或者数组。</p>
<p>还可以在绑定的对象中，返回一个 <strong>计算属性</strong> 。这是一个比较强大的地方。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&lt;div v-bind:class=&quot;classObject&quot;&gt;&lt;/div&gt;</div><div class="line">data: &#123;</div><div class="line">  isActive: true,</div><div class="line">  error: null</div><div class="line">&#125;,</div><div class="line">computed: &#123;</div><div class="line">  classObject: function () &#123;</div><div class="line">    return &#123;</div><div class="line">      active: this.isActive &amp;&amp; !this.error,</div><div class="line">      &apos;text-danger&apos;: this.error &amp;&amp; this.error.type === &apos;fatal&apos;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>数组语法渲染</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;div v-bind:class=&quot;[activeClass, errorClass]&quot;&gt;&lt;/div&gt;</div><div class="line">data: &#123;</div><div class="line">  activeClass: &apos;active&apos;,</div><div class="line">  errorClass: &apos;text-danger&apos;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="条件渲染"><a href="#条件渲染" class="headerlink" title="条件渲染"></a>条件渲染</h3><p>关于条件渲染有需要注意的地方是：条件渲染也会触发vue 中的DOM复用特性，所以 Vue 为你提供了一种方式来表达“这两个元素是完全独立的，不要复用它们”。只需添加一个具有唯一值的 <code>key</code> 属性即可</p>
<p><code>v-show</code> 的元素会始终渲染并保留在DOM中，它只是简单地切换元素的css属性 <code>display</code>， 它不支持 <code>template</code> 元素，也不支持 <code>v-else</code></p>
<p><code>v-if</code> 是惰性的，它会进行数据绑定，事件监听，但是不会进行真正的渲染操作。组件上的数据也传递不到子级组件。</p>
<h3 id="列表渲染"><a href="#列表渲染" class="headerlink" title="列表渲染"></a>列表渲染</h3><p>一个数组的渲染</p>
<p><code>v-for=(item, index) in array</code></p>
<p>一个对象的渲染</p>
<p><code>v-for=(value, key, index) in object</code></p>
<p><strong>数组更新检测</strong></p>
<p>一开始没有在意说的变异或者非变异方法， 结合官网所说，确实是对原始数据有影响的。</p>
<p>vue中有一些对数组操作的变异方法，它们会触发视图的更新，这些方法有:</p>
<p><code>push</code>  <code>pop</code>   <code>shift</code>   <code>unshift</code>  <code>splice</code>  <code>sort</code>  <code>reverse</code>  </p>
<p> 也有一些非变异方法：</p>
<p><code>filter</code>  <code>concat</code>  <code>slice</code></p>
<p>总是返回一个新数组，我们使用非变异方法的时候，可以重新赋值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">arrs.items = arr.items.filter(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</div><div class="line">	<span class="keyword">return</span> item.msg.match(<span class="string">'/Foo/'</span>)</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p> <strong>数组更改注意</strong></p>
<ol>
<li>利用数组项直接设置一个项时  <code>vm.items[indexItem] = new Value</code> </li>
<li>当修改数组的长度的时候  <code>vm.items.length = newLength</code> </li>
</ol>
<p>这样的操作 <strong>不会触发</strong> 视图的更新，vue中提供了另外两种方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">// vue set</div><div class="line">Vue.set(example.items, indexOfItem, newValue) </div><div class="line">example.items.splice(indexOfItem, 1, newValue)</div><div class="line"></div><div class="line">example.items.splice(newLength)</div></pre></td></tr></table></figure>
<p><strong>对象更改注意</strong></p>
<p>由于js的限制，Vue不能检测对象属性的 <strong>删除</strong> 或 <strong>添加</strong>  </p>
<p>虽然vue不能动态地添加根级别的响应式属性，但是可以使用全局的 <code>set</code> 方法嵌套对象添加响应式属性。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">var vm = new Vue(&#123;</div><div class="line">  data: &#123;</div><div class="line">    people: &#123;</div><div class="line">     name: &apos;Bob&apos;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;)</div><div class="line">Vue.set(vm.people, &apos;age&apos;, 30)</div><div class="line">// 或者使用 vm.$set</div></pre></td></tr></table></figure>
<p>要想给已知对象添加多个对象属性，可以这样</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">vm.people = <span class="built_in">Object</span>.assign(&#123;&#125;, vm.people, &#123;</div><div class="line">  <span class="attr">age</span>: <span class="number">37</span>,</div><div class="line">  <span class="attr">favoriteColor</span>: <span class="string">'yellow'</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p><strong>显示过滤/排序结果</strong> </p>
<p>在有些情况下，我们想要得到一个数组的过滤或排序版本，又不想改变原始的数据，这个时候可以使用计算属性来操作</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&lt;li v-for=&quot;(item, index) in evenNumbers&quot;&gt;</div><div class="line">&#123;&#123;n&#125;&#125;</div><div class="line">&lt;/li&gt;</div><div class="line">&lt;script&gt;</div><div class="line">  data: &#123;</div><div class="line">    number: [1,2,3,4,5,6]</div><div class="line">  &#125;,</div><div class="line">computed: &#123;</div><div class="line">  evenNumber()&#123;</div><div class="line">    return this.numbers.filter((number) =&gt; &#123;</div><div class="line">	 return number % 2 === 0</div><div class="line">    &#125;)</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<p>另外在计算属性不适用的情况下，也可以使用 <code>methods</code> 方法。</p>
<p><strong>范围取值</strong> </p>
<p><code>v-for</code> 可以循环整数</p>
<p><strong>其他</strong> </p>
<p><code>template</code> 元素也可以使用 <code>v-for</code> 渲染</p>
<p><code>v-for</code> 的优先级要高于 <code>v-if</code> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;li v-for=&quot;todo in todos&quot; v-if=&quot;!todo.isComplete&quot;&gt;</div><div class="line">	&#123;&#123;todo&#125;&#125;</div><div class="line">&lt;/li&gt;</div></pre></td></tr></table></figure>
<p>这样看来，除了计算属性和方法，也可以使用 <code>v-if</code> 来过滤数据</p>
<p><strong>组件中的使用</strong> </p>
<p>确实在组件中使用 <code>v-for</code> 也是非常方便的，必须要添加一个 <code>key</code></p>
<p> 值来配合使用。而且，组件有自己独立的作用域，为了把需要迭代的数据传递到组件中，需要配合 <code>props</code> 来使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;my-component</div><div class="line">   v-for=&quot;(item, index) in items&quot;</div><div class="line">              :item=&quot;item&quot;</div><div class="line">              :index=&quot;index&quot;</div><div class="line">              :key=&quot;item.index&quot;</div><div class="line">              &gt;&lt;/my-component&gt;</div></pre></td></tr></table></figure>
<p>不自动把 <code>item</code> 注入到组件中的原因是，解耦组件中的数据。</p>
<p>ex:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"todo-list-example"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">input</span></span></div><div class="line">         <span class="attr">v-model</span>=<span class="string">"newTodoText"</span></div><div class="line">         <span class="attr">:keyup.enter</span>=<span class="string">"addNewTodo"</span></div><div class="line">         <span class="attr">placeholder</span>=<span class="string">"Add a todo"</span></div><div class="line">         &gt;</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">li</span> </span></div><div class="line">      <span class="attr">is</span>=<span class="string">"todo.item"</span></div><div class="line">      <span class="attr">v-for</span>=<span class="string">"(todo, index) in todos"</span></div><div class="line">      <span class="attr">:key</span>=<span class="string">"todo.id"</span></div><div class="line">	  <span class="attr">:title</span>=<span class="string">"toto.title"</span></div><div class="line">	  @<span class="attr">remove</span>=<span class="string">"todos.splice(index, 1)"</span></div><div class="line">      &gt;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div></pre></td></tr></table></figure>
<p>注意里面的 <code>is</code> 属性，它可以避免编译模板过程中出现的语法错误。</p>
<p>接下来是对应的modal</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line">Vue.component(<span class="string">'todo-item'</span>, &#123;</div><div class="line">  <span class="attr">template</span>: <span class="string">'\</span></div><div class="line">&lt;li&gt;\</div><div class="line">&#123;&#123;title&#125;&#125;\</div><div class="line">&lt;button @click="$emit(\'remove\')"&gt;x&lt;/button&gt;\</div><div class="line">&lt;/li&gt;\</div><div class="line">'</div><div class="line">&#125;)</div><div class="line"><span class="keyword">new</span> Vue(&#123;</div><div class="line">  <span class="attr">el</span>: <span class="string">'#todo-list-example'</span>,</div><div class="line">  <span class="attr">data</span>: &#123;</div><div class="line">    <span class="attr">newTodoText</span>: <span class="string">''</span>,</div><div class="line">    <span class="attr">todos</span>: [</div><div class="line">      &#123;</div><div class="line">        <span class="attr">id</span>: <span class="number">1</span>,</div><div class="line">        <span class="attr">title</span>: <span class="string">'Do the dishes'</span>,</div><div class="line">      &#125;,</div><div class="line">      &#123;</div><div class="line">        <span class="attr">id</span>: <span class="number">2</span>,</div><div class="line">        <span class="attr">title</span>: <span class="string">'Take out the trash'</span>,</div><div class="line">      &#125;,</div><div class="line">      &#123;</div><div class="line">        <span class="attr">id</span>: <span class="number">3</span>,</div><div class="line">        <span class="attr">title</span>: <span class="string">'Mow the lawn'</span></div><div class="line">      &#125;</div><div class="line">    ],</div><div class="line">    <span class="attr">nextTodoId</span>: <span class="number">4</span></div><div class="line">  &#125;,</div><div class="line">  <span class="attr">methods</span>: &#123;</div><div class="line">    <span class="attr">addNewTodo</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="keyword">this</span>.todos.push(&#123;</div><div class="line">        <span class="attr">id</span>: <span class="keyword">this</span>.nextTodoId++,</div><div class="line">        <span class="attr">title</span>: <span class="keyword">this</span>.newTodoText</div><div class="line">      &#125;)</div><div class="line">      <span class="keyword">this</span>.newTodoText = <span class="string">''</span></div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>这里有个 <code>template</code> 拼写的细节，<code>$emit(\&#39;remove\&#39;)</code> 行内触发组件定义时的事件。</p>
<h3 id="事件处理"><a href="#事件处理" class="headerlink" title="事件处理"></a>事件处理</h3><p>在前端项目中遇到最多的问题就是事件处理与交互。很多处理的逻辑会比较复杂，像之前放在 <code>v-on</code> 指令中是不可取得。我们需要一个接受调用的方法名称。</p>
<p>例如：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span> = <span class="string">"example"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"greet"</span>&gt;</span></div><div class="line">    Greet</div><div class="line">  <span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> example = <span class="keyword">new</span> Vue(&#123;</div><div class="line">  <span class="attr">el</span>: <span class="string">"#example"</span>,</div><div class="line">  <span class="attr">data</span>: &#123;</div><div class="line">    <span class="attr">name</span>: <span class="string">'Vue.js'</span></div><div class="line">  &#125;,</div><div class="line">  <span class="attr">methods</span>:&#123;</div><div class="line">    greet(event)&#123;</div><div class="line">      alert(<span class="string">'Hello'</span> +<span class="keyword">this</span>.name+ <span class="string">'!'</span>)</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// event 是原生的DOM事件</span></div><div class="line">    <span class="keyword">if</span>(event)&#123;</div><div class="line">       alert(event.target.tagName)</div><div class="line">  	&#125;</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p>感觉心好疼，写到组件部分了，电脑热关机后一切都没有了。我想不出比 <code>webstorm</code> 更好的编辑器，我想不出比 <code>CTRL+S</code> 更好的书写习惯。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">ChrisJx</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">19</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                
                  <span class="site-state-item-count">6</span>
                  <span class="site-state-item-name">分类</span>
                
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">12</span>
                  <span class="site-state-item-name">标签</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ChrisJx</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
